<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ex Corde | A Dialogue Between Eras</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/icon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon/favicon-16x16.png">
  <link rel="manifest" href="/images/icon/site.webmanifest">
  <link rel="shortcut icon" href="/images/icon/favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/performances.css">
  <link rel="stylesheet" href="/css/sidebar.css">
</head>
<body>
  <!-- <script>
    const correctPassword = "fromtheheart"; // Change this
    const isAuthenticated = false;
  
    if (!isAuthenticated) {
      const attempt = prompt("Enter password to access the site:");
      if (attempt === correctPassword) {
        sessionStorage.setItem("authenticated", "true");
        document.body.style.display = "block";
      } else {
        document.write("<h2 style='text-align:center;margin-top:20%'>Access Denied</h2>");
        throw new Error("Access denied");
      }
    } else {
      document.body.style.display = "block";
    }
  </script>
  <div id="protected" style="display: none;"> -->
  <!-- Hamburger icon -->
  <div id="hamburger" class="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <!-- Sidebar menu -->
  <div id="sidebar-overlay" class="sidebar-overlay"></div>
  <nav id="sidebar" class="sidebar">
    <ul class="sidebar-primary">
      <li><a href="#hero">Home</a></li>
      <li><a href="/performances/index.html">Performances</a></li>
      <li><a href="/media.html">Media</a></li>
      <li class="has-submenu">
        <a href="#" onclick="toggleSubmenu(event)">Composers ▾</a>
        <ul class="submenu">
          <li><a href="/composers/marco-catella.html">Marco Catella</a></li>
          <li><a href="/composers/joshua-delozier.html">Joshua DeLozier</a></li>
          <li><a href="/composers/yuval-medina.html">Yuval Medina</a></li>
        </ul>
      </li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/contact.html">Contact</a></li>
    </ul>
    <hr class="sidebar-divider" />
    <ul class="sidebar-secondary">
      <li><a href="/donate.html">Donate</a></li>
    </ul>
  </nav>
  <div id="sidebar-backdrop"></div>

  <header class="hero fade-in delay-1">
    <video autoplay muted loop playsinline poster="/images/hero_placeholder.jpg" style="background-color: #000000;">
      <source src="/videos/yuval_medina_together_again_el_cerrito_excerpt.mp4" type="video/mp4" />
    </video>
    <div class="hero-overlay">
      <img src="/images/logo_white_wout_ltd.png" alt="Ex Corde Logo" class="hero-logo">
      <p>A dialogue between eras — curated concerts uniting musical history with the voices of today.</p>
    </div>
  </header>

  <a href="/about.html" class="about-link">
    <section class="about-section fade-in delay-2">
      <h2>About</h2>
      <p>
        Ex Corde is a nonprofit, composer-led ensemble dedicated to curating concerts that speak across centuries. From Bach, Britten, and Mahler to emerging composers from New York City and beyond, our programs invite dialogue between the timeless and the newly imagined. Founded by composers Marco Catella, Joshua DeLozier, and Yuval Medina, we bring our own music into conversation with the masterworks that shaped us — crafting narratives where the past doesn’t just echo, it listens and responds.
      </p>
    </section>
  </a>

  <section class="concerts fade-in delay-3">
    <h2>Upcoming Concerts</h2>
    <p class="placeholder" id="upcoming-placeholder">More performances coming soon.</p>
  </section>

  <section class="composer-section fade-in delay-4">
    <h2>Composer Bios</h2>
    <a href="/composers/marco-catella.html">
      <div class="composer-bio">
        <img src="/images/marco_catella.jpg" alt="Marco Catella" class="composer-photo">
        <div class="composer-details">
          <h3>Marco Catella</h3>
          <p>Marco Catella's music seeks to evoke universal human emotions, and drama in the broadest sense, employing a style that is deeply rooted in our great musical tradition, while having a place in our contemporary world. He hails from Buenos Aires, Argentina&#8230;</p>
        </div>
      </div>
    </a>
    <a href="/composers/joshua-delozier.html">
      <div class="composer-bio">
        <img src="/images/joshua_delozier.jpg" alt="Joshua DeLozier" class="composer-photo">
        <div class="composer-details">
          <h3>Joshua DeLozier</h3>
          <p>The music of Joshua C. DeLozier (b. 1998) seeks an integration of form and content to create richly varied interrelationships between ideas at different scales of time. DeLozier’s works have been heard at the Lake George Music Festival, at June in Buffalo, and on WGTE Public Media’s radio program “Morning Classics”&#8230;</p>
        </div>
      </div>
    </a>
    <a href="/composers/yuval-medina.html">
      <div class="composer-bio">
        <img src="/images/yuval_medina.jpg" alt="Yuval Medina" class="composer-photo">
        <div class="composer-details">
          <h3>Yuval Medina</h3>
          <p>Yuval Medina is a composer and pianist who believes in the power of music to change our world. A storyteller at heart, his music seeks to express all that cannot be said in words. He is currently pursuing his master’s in classical composition at the Manhattan School of Music. His music was recently featured by Vanity Fair during the Oscars ceremony&#8230;</p>
        </div>
      </div>
    </a>
  </section>

  <section class="fade-in delay-5">
    <h2>Media</h2>
    <div class="media-gallery">
      <div class="media-item">
        <iframe src="https://www.youtube.com/embed/yEjIbHmTmGQ" title="Together Again Excerpt" allowfullscreen></iframe>
      </div>
      <div class="media-item">
        <iframe src="https://www.youtube.com/embed/R9D7VY7AEU4" title="Together Again Excerpt" allowfullscreen></iframe>
      </div>
    </div>
  </section>

  <section class="newsletter-section fade-in">
    <div class="newsletter-container">
      <h2>Stay Connected</h2>
      <p class="newsletter-intro">
        Be the first to hear new music, upcoming performances, and behind-the-scenes moments.
      </p>

      <form
        action="https://buttondown.email/api/emails/embed-subscribe/excorde"
        method="post"
        target="popupwindow"
        onsubmit="window.open('https://buttondown.email/excorde', 'popupwindow')"
        class="embeddable-buttondown-form"
      >
        <div class="form-row">
          <input type="text" name="metadata__first_name" id="bd-first-name" required placeholder="First name" />
          <input type="text" name="metadata__last_name" id="bd-last-name" placeholder="Last name (optional)" />
        </div>
        <div class="form-row email-submit-row">
          <div class="input-wrapper">
            <input type="email" name="email" id="bd-email" required placeholder="Your email address" />
          </div>
          <input type="submit" value="Subscribe" />
        </div>
        <p id="newsletter-response" class="newsletter-response"></p>
      </form>

      <p class="newsletter-powered">
        <a href="https://buttondown.email/refer/excorde" target="_blank">Powered by Buttondown.</a>
      </p>
    </div>
  </section>

  <footer>
    <img src="/images/logo_white_wout_ltd.png" alt="Ex Corde" class="footer-logo" />
    <p>
      <a href="/composers/marco-catella.html">Marco Catella</a> |
      <a href="https://joshuadelozier.com" target="_blank">Joshua DeLozier</a> |
      <a href="https://yuvalmedina.com" target="_blank">Yuval Medina</a>
    </p>
    <p>
      <a href="mailto:contact@excorde.nyc">contact@excorde.nyc</a>
      <div class="social-icons">
        <a href="https://www.instagram.com/excorde.nyc" target="_blank" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
    </p>
    <p>&copy; 2025 Ex Corde Ltd. All rights reserved.</p>
  </footer>
  <!-- </div> -->

  <script src="/js/sidebar.js"></script>
  <script>
      document.getElementById('contact-form').addEventListener('submit', function(e) {
        e.preventDefault();
  
        const name = document.getElementById('contact-name').value;
        const email = document.getElementById('contact-email').value;
        const subject = document.getElementById('contact-subject').value;
        const message = document.getElementById('contact-message').value;
  
        const mailtoLink = `mailto:contact@yuvalmedina.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`From:\t<Name: ${name}\n\t\t Email: ${email}>\n\n${message}`)}`;
  
        window.location.href = mailtoLink;
      });
    </script>
    <script>
    function setHamburgerColor() {
      const heroSection = document.querySelector('.hero');
      const hamburger = document.querySelector('.hamburger');
    
      if (!heroSection || !hamburger) return;
    
      const heroBottom = heroSection.getBoundingClientRect().bottom;
    
      if (heroBottom > 80) {
        hamburger.classList.remove('light');
        hamburger.classList.add('dark');
      } else {
        hamburger.classList.remove('dark');
        hamburger.classList.add('light');
      }
    }
    
    window.addEventListener('scroll', setHamburgerColor);
    window.addEventListener('load', setHamburgerColor);
    </script>
    <!--
    <script>
      // Reveal content after successful password entry
      if (sessionStorage.getItem("authenticated") === "true") {
        const protectedDiv = document.getElementById("protected");
        if (protectedDiv) {
          protectedDiv.style.display = "block";
        }
      }
    </script> -->
    <script>
      function createPerformanceCard(performance) {
        const card = document.createElement('article');
        card.className = 'concert-card';
    
        function formatText(text) {
          if (!text) return '';
          return text.replace(/\*(.+?)\*/g, '<em>$1</em>');
        }
    
        const paragraphs = performance.description
          ? performance.description
              .split(/\n\s*\n/)
              .map(p => p.trim())
              .filter(Boolean)
          : [];
    
        const fullHTML = paragraphs
          .map(p => `<p>${formatText(p)}</p>`)
          .join('');
    
        const shortHTML = paragraphs.length > 2
          ? paragraphs
              .slice(0, 2)
              .map(p => `<p>${formatText(p)}</p>`)
              .join('')
          : fullHTML;
    
        const needsToggle = fullHTML !== shortHTML;
    
        const imageHTML = performance.image
          ? `
              <div class="concert-image-wrapper">
                <img src="${performance.image}"
                    alt="${performance.imageAlt || performance.title}">
              </div>
            `
          : "";

        card.innerHTML = `
            ${imageHTML}
            <h3>${performance.title}</h3>
            <p class="concert-meta">
              ${performance.date} · ${performance.time} · ${performance.venue}
            </p>
            <div class="concert-description">
              ${needsToggle ? shortHTML : fullHTML}
            </div>
          `;

    
        const descriptionEl = card.querySelector('.concert-description');
    
        if (performance.ticketLink) {
          card.style.cursor = 'pointer';
          card.addEventListener('click', () => {
            window.open(performance.ticketLink, '_blank', 'noopener,noreferrer');
          });
        }
    
        if (needsToggle) {
          card.classList.add('has-collapsed-description');
    
          const showMoreWrapper = document.createElement('div');
          showMoreWrapper.className = 'show-more-wrapper';
    
          const toggleBtn = document.createElement('button');
          toggleBtn.type = 'button';
          toggleBtn.className = 'show-more-toggle';
          toggleBtn.textContent = 'Show more';
    
          showMoreWrapper.appendChild(toggleBtn);
          card.appendChild(showMoreWrapper);
    
          showMoreWrapper.addEventListener('click', (event) => {
            event.stopPropagation();
    
            const isExpanded = card.classList.toggle('expanded');
            descriptionEl.classList.toggle('expanded', isExpanded);
    
            if (isExpanded) {
              descriptionEl.innerHTML = fullHTML;
              card.classList.remove('has-collapsed-description');
              toggleBtn.textContent = 'Show less';
            } else {
              descriptionEl.innerHTML = shortHTML;
              card.classList.add('has-collapsed-description');
              toggleBtn.textContent = 'Show more';
            }
          });
        }
    
        return card;
      }
    
      fetch('/performances/performances.json')
        .then(response => response.json())
        .then(data => {
          const upcomingSection = document.querySelector('.concerts');
          const placeholder = document.getElementById('upcoming-placeholder');
          if (!upcomingSection) return;
    
          const upcomingPerformances = data.filter(
            p => p.status === 'upcoming'
          );
    
          if (!upcomingPerformances.length) {
            // leave the "More performances coming soon" text
            return;
          }
    
          if (placeholder) {
            placeholder.style.display = 'none';
          }
    
          upcomingPerformances.forEach(performance => {
            const card = createPerformanceCard(performance);
            upcomingSection.appendChild(card);
          });
        })
        .catch(err => {
          console.error('Error loading performances.json on homepage:', err);
        });
    </script>    
</body>
</html>
